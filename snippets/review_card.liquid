{%- liquid
  assign reviewer_name = block.settings.reviewer_name
  assign platform = block.settings.platform
  assign profile_image = block.settings.profile_image
  assign profile_bg_color = block.settings.profile_bg_color | default: '#4285F4'
  assign rating = block.settings.rating
  assign time_ago = block.settings.time_ago
  assign review_text = block.settings.review_text
  assign read_more_link = block.settings.read_more_link
  assign initial_letter = reviewer_name | slice: 0, 1 | upcase
-%}

<div class="review_card">
  <div class="review_card_header">
    {%- if platform == 'google' -%}
      <div class="platform_logo platform_google">
        <svg width="92" height="30" viewBox="0 0 92 30" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M42.3 15.1C42.3 9.5 46.8 5.9 51.5 5.9C54.1 5.9 55.9 7.1 57.1 8.1L60.6 4.6C58.1 2.4 54.6 0.5 51.5 0.5C44.1 0.5 38.2 6.4 38.2 14.5C38.2 22.6 44.1 28.5 51.5 28.5C54.6 28.5 58.1 26.6 60.6 24.4L57.1 20.9C55.9 21.9 54.1 23.1 51.5 23.1C46.8 23.1 42.3 19.5 42.3 15.1Z" fill="#4285F4"/>
          <path d="M64.8 15.1C64.8 9.5 69.3 5.9 74 5.9C76.6 5.9 78.4 7.1 79.6 8.1L83.1 4.6C80.6 2.4 77.1 0.5 74 0.5C66.6 0.5 60.7 6.4 60.7 14.5C60.7 22.6 66.6 28.5 74 28.5C77.1 28.5 80.6 26.6 83.1 24.4L79.6 20.9C78.4 21.9 76.6 23.1 74 23.1C69.3 23.1 64.8 19.5 64.8 15.1Z" fill="#EA4335"/>
          <path d="M51.5 8.3C54.2 8.3 56.1 10.2 56.9 12.1L60.4 8.6C58.2 5.1 55.1 2.8 51.5 2.8C44.1 2.8 38.2 8.7 38.2 16.8C38.2 24.9 44.1 30.8 51.5 30.8C55.1 30.8 58.2 28.5 60.4 25L56.9 21.5C56.1 23.4 54.2 25.3 51.5 25.3C46.8 25.3 42.3 21.7 42.3 16.1C42.3 10.5 46.8 6.9 51.5 6.9V8.3Z" fill="#FBBC04"/>
          <path d="M74 8.3C76.7 8.3 78.6 10.2 79.4 12.1L82.9 8.6C80.7 5.1 77.6 2.8 74 2.8C66.6 2.8 60.7 8.7 60.7 16.8C60.7 24.9 66.6 30.8 74 30.8C77.6 30.8 80.7 28.5 82.9 25L79.4 21.5C78.6 23.4 76.7 25.3 74 25.3C69.3 25.3 64.8 21.7 64.8 16.1C64.8 10.5 69.3 6.9 74 6.9V8.3Z" fill="#34A853"/>
        </svg>
      </div>
    {%- elsif platform == 'trustpilot' -%}
      <div class="platform_logo platform_trustpilot">
        <svg width="120" height="20" viewBox="0 0 120 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M18.518 0L22.853 6.909L30.518 7.854L25.127 13.182L26.618 20.727L18.518 16.818L10.418 20.727L11.909 13.182L6.518 7.854L14.183 6.909L18.518 0Z" fill="#00B67A"/>
          <text x="35" y="14" font-family="Arial, sans-serif" font-size="13" font-weight="600" fill="#00B67A">Trustpilot</text>
        </svg>
      </div>
    {%- endif -%}
  </div>
  
  <div class="review_card_body">
    <div class="reviewer_info">
      <div class="reviewer_avatar">
        {%- if profile_image != blank -%}
          <img src="{{ profile_image | img_url: '100x100' }}" alt="{{ reviewer_name }}" class="profile_image">
        {%- else -%}
          <div class="profile_initial" style="background-color: {{ profile_bg_color }};">
            {{ initial_letter }}
          </div>
        {%- endif -%}
      </div>
      <div class="reviewer_details">
        <div class="reviewer_name">{{ reviewer_name }}</div>
        <div class="review_rating">
          {%- for i in (1..5) -%}
            {%- if i <= rating -%}
              <span class="star filled">★</span>
            {%- else -%}
              <span class="star">★</span>
            {%- endif -%}
          {%- endfor -%}
        </div>
        <div class="review_time">{{ time_ago }}</div>
      </div>
    </div>
    
    <div class="review_content">
      {{ review_text }}
      {%- if read_more_link != blank -%}
        <a href="{{ read_more_link }}" class="read_more_link" target="_blank">Read more</a>
      {%- endif -%}
    </div>
  </div>
</div>

